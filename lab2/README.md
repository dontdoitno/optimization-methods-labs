# Лабораторная работа 2: Поиск глобального экстремума липшицевой функции

## Описание

Программа реализует метод Пиявского (Piyavskii-Shubert) для поиска глобального минимума липшицевой функции на заданном отрезке.

## Требования

- Python 3.8+
- numpy
- matplotlib

Установка зависимостей:
```bash
pip install numpy matplotlib
```

## Структура проекта

```
lab2/
├── main.py                 # Основной файл программы
├── src/
│   ├── __init__.py
│   ├── function_parser.py  # Парсинг и вычисление функций из строк
│   ├── test_functions.py   # Тестовые функции (Растригина, Экли)
│   ├── optimizer.py        # Реализация метода Пиявского
│   └── visualizer.py       # Визуализация результатов
├── examples/               # Примеры и результаты
│   ├── example_rastrigin.txt
│   ├── example_ackley.txt
│   ├── optimization_result.png
│   └── optimization_results.txt
└── README.md
```

## Использование

### Интерактивный режим

Запустите программу без аргументов:

```bash
cd lab2
python main.py
```

Программа предложит выбрать функцию и ввести параметры.

### Режим командной строки

```bash
# Использование тестовой функции Растригина
python main.py --function rastrigin --a -5 --b 5 --eps 0.01

# Использование тестовой функции Экли
python main.py --function ackley --a -5 --b 5 --eps 0.01

# Использование собственной функции
python main.py --function "x + sin(3.14159*x)" --a 0 --b 2 --eps 0.01

# С указанием константы Липшица
python main.py --function rastrigin --a -5 --b 5 --eps 0.01 --L 50
```

### Параметры командной строки

- `--function`, `-f`: Строка функции или имя тестовой функции (rastrigin, ackley, griewank)
- `--a`, `-a`: Левый конец отрезка
- `--b`, `-b`: Правый конец отрезка
- `--eps`, `-e`: Точность вычисления (по умолчанию 0.01)
- `--L`, `-L`: Константа Липшица (если не указана, оценивается автоматически)
- `--output`, `-o`: Путь для сохранения графика

## Тестовые функции

### Функция Растригина
```
f(x) = 10*2 + x^2 - 10*cos(2*pi*x)
```
- Глобальный минимум: x = 0, f(0) = 0
- Имеет много локальных минимумов
- Рекомендуемый отрезок: [-5, 5]

### Функция Экли
```
f(x) = -20*exp(-0.2*sqrt(x^2)) - exp(cos(2*pi*x)) + 20 + e
```
- Глобальный минимум: x = 0, f(0) = 0
- Имеет много локальных минимумов
- Рекомендуемый отрезок: [-5, 5]

## Метод Пиявского

Метод Пиявского (Piyavskii-Shubert) - это алгоритм глобальной оптимизации для липшицевых функций.

**Алгоритм:**
1. Начинаем с двух точек на концах отрезка
2. На каждой итерации строим ломаную линию (нижнюю оценку функции)
3. Находим точку минимума ломаной
4. Вычисляем значение функции в этой точке
5. Обновляем ломаную с учётом нового значения
6. Повторяем до достижения требуемой точности

**Ломаная линия** строится как:
```
φ(x) = max_i (f(x_i) - L * |x - x_i|)
```
где L - константа Липшица.

## Выходные данные

Программа выводит:
- Приближённое значение аргумента минимума
- Минимальное значение функции
- Число итераций
- Затраченное время

Создаёт:
- График с визуализацией функции, ломаной линии и найденного минимума
- Текстовый файл с результатами

## Примеры запуска

```bash
# Функция Растригина на отрезке [-5, 5] с точностью 0.01
python main.py -f rastrigin -a -5 -b 5 -e 0.01

# Функция Экли на отрезке [-3, 3] с точностью 0.001
python main.py -f ackley -a -3 -b 3 -e 0.001

# Собственная функция
python main.py -f "x^2 + sin(x)" -a -2 -b 2 -e 0.01
```

## Примечания

- Функция должна быть липшицевой на заданном отрезке
- Константа Липшица оценивается автоматически, но можно задать вручную для ускорения
- Чем меньше точность (eps), тем больше итераций потребуется
- Метод гарантирует нахождение глобального минимума для липшицевых функций
